/*! sliderM v1.0  @Timor-M/license */
(function(){function a(c,b){this.page=-1;this.slideBox=c;this.imgBox=this.slideBox.children().eq(0);this.pageBox=$("<ul class='sliderM-page'></ul>");this.imgLi=this.imgBox.find("li");this.len=this.imgLi.size();this.timer=null;this.pageLi="";this.defaults={duration:500,time:3000,width:730,height:454,controls:true},this.options=$.extend({},this.defaults,b);this.slideBox.css({"width":this.options.width,"height":this.options.height})}a.prototype={createPageBox:function(){for(var c=0;c<this.len;c++){this.pageLi+="<li></li>"}this.pageBox.html(this.pageLi);this.slideBox.append(this.pageBox);var b=this.pageBox.width();console.log(this);this.pageBox.css("margin-left",-b/2);this.pageLi=this.pageBox.find("li")},Move:function(b){this.imgLi.hide();this.pageLi.removeClass("active");this.imgLi.eq(b).fadeIn(this.options.duration).css({"z-index":1}).siblings().css("z-index",0).stop();this.pageLi.eq(b).addClass("active")},autoMove:function(){var b=this;this.page++;this.page%=this.len;this.Move(this.page);this.timer=setTimeout(function(){b.autoMove()},b.options.time)},hoverEvent:function(){var b=this;this.slideBox.hover(function(){clearTimeout(b.timer);b.slideBox.children("a").fadeIn()},function(){b.timer=setTimeout(function(){b.autoMove()},b.options.time);b.slideBox.children("a").fadeOut()})},hoverPage:function(){var b=this;this.pageLi.mouseover(function(){b.Move($(this).index());b.page=$(this).index()})},control:function(){var b=this;this.slideBox.append('<a href="javascript:void(0)" class="control-left">&lt;</a> <a href="javascript:void(0)" class="control-right">&gt;</a>');b.slideBox.children("a").click(function(){if($(this).is(".control-left")){b.page--;if(b.page<0){b.page=b.len-1}b.Move(b.page)}else{b.page++;b.page%=b.len;b.Move(b.page)}})},init:function(){this.createPageBox();this.autoMove();this.hoverEvent();this.hoverPage();if(this.options.controls){this.control()}}};$.fn.sliderM=function(b){this.each(function(){var c=new a($(this),b);c.init()})}})(jQuery);